

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hands-on Programming &mdash; Software-Defined Networks: A Systems Approach Version 0.3-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="static/bridge.ico"/>
  
  
  

  
  <script type="text/javascript" src="static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
        <script type="text/javascript" src="static/jquery.js"></script>
        <script type="text/javascript" src="static/underscore.js"></script>
        <script type="text/javascript" src="static/doctools.js"></script>
        <script type="text/javascript" src="static/language_data.js"></script>
    
    <script type="text/javascript" src="static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="static/css/rtd_theme_mods.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="About The Book" href="README.html" />
    <link rel="prev" title="Chapter 8: Future of SDN" href="future.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Software-Defined Networks: A Systems Approach
          

          
          </a>

          
            
            
              <div class="version">
                Version 0.3-dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Chapter 1:  Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="uses.html">Chapter 2:  Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="arch.html">Chapter 3:  Basic Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="switch.html">Chapter 4:  White-Box Switches</a></li>
<li class="toctree-l1"><a class="reference internal" href="stratum.html">Chapter 5:  Switch OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="onos.html">Chapter 6:  Network OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="trellis.html">Chapter 7:  Leaf-Spine Fabric</a></li>
<li class="toctree-l1"><a class="reference internal" href="future.html">Chapter 8:  Future of SDN</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hands-on Programming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#environment">Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-vm">Download VM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clone-repository">Clone Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-dependencies">Upgrade Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-an-ide">Using an IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="#repo-structure">Repo Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="README.html">About The Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">About The Authors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Software-Defined Networks: A Systems Approach</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Hands-on Programming</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/exercises.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="README.html" class="btn btn-neutral float-right" title="About The Book" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="future.html" class="btn btn-neutral float-left" title="Chapter 8: Future of SDN" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hands-on-programming">
<h1>Hands-on Programming<a class="headerlink" href="#hands-on-programming" title="Permalink to this headline">¶</a></h1>
<p>A collection of programming exercises provides hands-on experience with
the software described in this book. They include:</p>
<ul class="simple">
<li>Using Stratum’s P4Runtime, gNMI, OpenConfig, and gNOI interfaces</li>
<li>Using ONOS to control P4-programmed switches</li>
<li>Writing ONOS applications to implement control plane logic</li>
<li>Testing a software stack using bmv2 in Mininet</li>
<li>Using PTF to test P4-based forwarding planes</li>
</ul>
<p>The exercises assume familiarity with Java and Python, although each
exercise comes with starter code, so a high level of proficiency is
not required. The exercises also use the <em>Mininet</em> network emulator,
the <em>bmv2</em> P4-based switch emulator, the <em>PTF</em> Packet Testing
Framework, and the <em>Wireshark</em> protocol analyzer. Additional
information about each of these software tools is provided in the
individual exercises.</p>
<p>The exercises originated with a <em>Next Generation SDN Tutorial</em>
produced by ONF, and so they come with a collection of on-line
tutorial slides that introduce the topics covered in the exercises:</p>
<ul class="simple">
<li><a class="reference external" href="http://bit.ly/adv-ngsdn-tutorial-slides">http://bit.ly/adv-ngsdn-tutorial-slides</a></li>
</ul>
<p>These slides have significant overlap with the material covered in
this book, so it is not essential that you start with the slides, but
they can be a good supplemental resource.</p>
<div class="section" id="environment">
<h2>Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h2>
<p>You will be doing the exercises in a virtualized Linux environment
running on your laptop. This section describes how to install and
prepare that environment.</p>
<div class="section" id="system-requirements">
<h3>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h3>
<p>The current configuration of the VM is 4 GB of RAM and a 4-core CPU.
These are the recommended minimum system requirements to complete the
exercises. The VM also takes approximately 8 GB of HDD space. For a
smooth experience, we recommend running the VM on a host system that
has at least double these resources.</p>
</div>
<div class="section" id="download-vm">
<h3>Download VM<a class="headerlink" href="#download-vm" title="Permalink to this headline">¶</a></h3>
<p>Click the following link to download the VM (4 GB):</p>
<ul class="simple">
<li><a class="reference external" href="http://bit.ly/ngsdn-tutorial-ova">http://bit.ly/ngsdn-tutorial-ova</a></li>
</ul>
<p>The VM is in <code class="docutils literal notranslate"><span class="pre">.ova</span></code> format and has been created using VirtualBox
v5.2.32. You can use any modern virtualization system to run the VM,
although we recommend using VirtualBox. The following links provide
instructions on how to get VirtualBox and import the VM:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></li>
<li><a class="reference external" href="https://docs.oracle.com/cd/E26217_01/E26796/html/qs-import-vm.html">https://docs.oracle.com/cd/E26217_01/E26796/html/qs-import-vm.html</a></li>
</ul>
<p>Alternatively, you can use these
<a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/tree/advanced/util/vm">scripts</a>
to build a VM on your machine using Vagrant.</p>
<div class="admonition-windows-users admonition" id="warning-windows">
<p class="first admonition-title">Windows Users</p>
<p class="last">All scripts have been tested on MacOS and Ubuntu.  Although they
should work on Windows, they have not been tested. We therefore
recommend that Windows users download the provided VM.</p>
</div>
<p>At this point you can start the virtual machine (an Ubuntu system),
and log in using the credentials <code class="docutils literal notranslate"><span class="pre">sdn</span></code> / <code class="docutils literal notranslate"><span class="pre">rocks</span></code>. The instructions
given throughout the remainder of this section (as well as the
exercises themselves) are to be executed within the running VM.</p>
</div>
<div class="section" id="clone-repository">
<h3>Clone Repository<a class="headerlink" href="#clone-repository" title="Permalink to this headline">¶</a></h3>
<p>To work on the exercises you will need to clone the following repo:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~
$ git clone -b advanced https://github.com/opennetworkinglab/ngsdn-tutorial
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">ngsdn-tutorial</span></code> directory is already present in the VM, make
sure to update its content:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/ngsdn-tutorial
$ git pull origin advanced
</pre></div>
</div>
<p>Note that there are multiple branches of the repo, each with a
different configuration of the exercises. Always make sure you are in
the <code class="docutils literal notranslate"><span class="pre">advanced</span></code> branch.</p>
</div>
<div class="section" id="upgrade-dependencies">
<h3>Upgrade Dependencies<a class="headerlink" href="#upgrade-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The VM may have shipped with an older version of the dependencies than
you need for the exercises. You can upgrade to the latest version
using the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/ngsdn-tutorial
$ make deps
</pre></div>
</div>
<p>This command downloads all necessary Docker images (~1.5 GB), which
allows you to work through the exercises off-line.</p>
</div>
<div class="section" id="using-an-ide">
<h3>Using an IDE<a class="headerlink" href="#using-an-ide" title="Permalink to this headline">¶</a></h3>
<p>During the exercises you will need to write code in multiple languages
(e.g., P4, Java, Python). While the exercises do not require the use
of any specific IDE or code editor, one option is the Java IDE
<a class="reference external" href="https://www.jetbrains.com/idea/">IntelliJ IDEA Community Edition</a>,
which comes pre-loaded with plugins for P4 syntax highlighting and
Python development. We suggest using IntelliJ IDEA especially when
working on the ONOS app, as it provides code completion for all ONOS
APIs.</p>
</div>
<div class="section" id="repo-structure">
<h3>Repo Structure<a class="headerlink" href="#repo-structure" title="Permalink to this headline">¶</a></h3>
<p>The repo you cloned is structured as follows:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">p4src\</span></code> → Data Plane Implementation (P4)</li>
<li><code class="docutils literal notranslate"><span class="pre">yang\</span></code> → Config Models (YANG)</li>
<li><code class="docutils literal notranslate"><span class="pre">app\</span></code> → Custom ONOS app (Java)</li>
<li><code class="docutils literal notranslate"><span class="pre">mininet\</span></code> → 2x2 leaf-spine (Mininet)</li>
<li><code class="docutils literal notranslate"><span class="pre">util\</span></code> → Utility Scripts (Bash)</li>
<li><code class="docutils literal notranslate"><span class="pre">ptf\</span></code> → Data plane unit tests (PTF)</li>
</ul>
<p>Note that the exercises include links to various files on GitHub, but
don’t forget you have those same files cloned on your laptop.</p>
</div>
<div class="section" id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h3>
<p>To facilitate working on the exercises, the repo provides a set of
<code class="docutils literal notranslate"><span class="pre">make</span></code> targets to control the different aspects of the process. The
specific commands are introduced in the individual exercises, but the
following is a quick reference:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">deps</span></code> → Pull and build all required dependencies</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">p4-build</span></code> → Build P4 program</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">p4-test</span></code> → Run PTF tests</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">start</span></code> → Start Mininet and ONOS containers</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">stop</span></code> → Stop all containers</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">restart</span></code> → Restart containers clearing any previous state</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">onos-cli</span></code> → Access the ONOS CLI (password: <code class="docutils literal notranslate"><span class="pre">rocks</span></code>, Ctrl-D to exit)</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">onos-log</span></code> →  Show the ONOS log</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">mn-cli</span></code> →  Access the Mininet CLI (Ctrl-D to exit)</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">mn-log</span></code> →  Show the Mininet log (i.e., the CLI output)</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">app-build</span></code> → Build custom ONOS app</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">app-reload</span></code> →  Install and activate the ONOS app</li>
<li><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">netcfg</span></code> →  Push <code class="docutils literal notranslate"><span class="pre">netcfg.json</span></code> file (network config) to
ONOS</li>
</ul>
<div class="admonition-executing-commands admonition" id="warning-cmds">
<p class="first admonition-title">Executing Commands</p>
<p class="last">As a reminder, these commands will be executed in a terminal window
you open within the VM you just created. Be sure you are in the
root directory of the repo you cloned (where the main <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>
lives).</p>
</div>
</div>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>The following lists (and links) the individual exercises. That there
are 8 exercises and 8 chapters is a coincidence. Exercises 1 and 2
focus on Stratum, and are best attempted after reading through Chapter
5. Exercises 3 through 6 focus on ONOS and are best attempted after
reading through Chapter 6. Exercises 7 and 8 focus on Trellis and are
best attempted after reading through Chapter 7. Note that the
exercises build on each other, so it is best to work through them in
order.</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-1.md">P4Runtime Basics</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-2.md">YANG, OpenConfig, gNMI Basics</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-3.md">Using ONOS as the Control Plane</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-4.md">Enabling ONOS Built-in Services</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-5.md">Implementing IPv6 Routing with ECMP</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-6.md">Implementing SRv6</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-7.md">Trellis Basics</a></li>
<li><a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/blob/advanced/EXERCISE-8.md">GTP Termination with fabric.p4</a></li>
</ol>
<p>You can find solutions for each exercise in the <code class="docutils literal notranslate"><span class="pre">solution</span></code>
subdirectory for the repo you cloned.  Feel free to compare your
solution to the reference solution should you get stuck.</p>
<div class="admonition-graphical-interfaces admonition" id="warning-tutorial">
<p class="first admonition-title">Graphical Interfaces</p>
<p class="last">When exercises call for viewing graphical output, you will see
reference to the <em>ONF Cloud Tutorial Portal</em>. This is for
cloud-hosted VMs used during ONF-run tutorials, and so does apply
here. In its place, the exercises also describe how to access the
GUI running locally on your laptop.</p>
</div>
<p>If you have suggestions for how we can improve these exercises, please
send email to <a class="reference external" href="mailto:ng-sdn-exercises&#37;&#52;&#48;opennetworking&#46;org">ng-sdn-exercises<span>&#64;</span>opennetworking<span>&#46;</span>org</a> or post an issue to
<a class="reference external" href="https://github.com/opennetworkinglab/ngsdn-tutorial/issues/new">GitHub</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="README.html" class="btn btn-neutral float-right" title="About The Book" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="future.html" class="btn btn-neutral float-left" title="Chapter 8: Future of SDN" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
